# 🍱 AI 기반 식단 관리 시스템

## 프로젝트 소개

이 프로젝트는 AI를 활용하여 주간 식단표를 자동 생성하고, 메뉴판을 분석하여 영양 정보를 제공하는 웹 애플리케이션입니다. OpenAI GPT-4o-mini를 활용해 메뉴 분류 및 영양소 추정, 자동 식단표 생성, 영양소 기준치 관리, 메뉴 데이터베이스 관리 등 다양한 기능을 제공합니다.

---

## 주요 기능

- **주간 식단표 자동 생성**
  - 버튼 하나로 월~금 식단표를 자동 생성
  - 잡곡밥, 국/수프, 메인, 사이드1, 사이드2, 기타(선택)로 구성
  - 생성된 식단표를 엑셀로 다운로드

- **메뉴판 분석**
  - 기존 식단표 엑셀 파일(아래 포맷 참고) 업로드 시 자동으로 영양 정보 분석
  - 분석 결과 및 일일 영양소 합계 시트 포함 엑셀로 다운로드

- **메뉴 데이터베이스 관리**
  - 메뉴 추가(텍스트/엑셀), 일괄 추가, 삭제, 영양소/카테고리 표 기반 수정
  - 메뉴명, 카테고리, 영양소 정보 관리

- **영양소 기준치 설정**
  - RDI(권장 영양소 섭취량) 및 허용 오차 설정 가능

---

## 엑셀 파일 포맷 예시

### 식단표/분석용 엑셀 구조

- **시트명:** '점심' 또는 '저녁'
- **행:** 잡곡밥, 국/수프, 메인, 사이드1, 사이드2, 기타(선택)
- **열:** 월, 화, 수, 목, 금
- 각 셀에는 해당 요일의 메뉴명이 들어가야 합니다.

|        | 월   | 화   | 수   | 목   | 금   |
|--------|------|------|------|------|------|
| 잡곡밥 | 잡곡밥 | 잡곡밥 | 잡곡밥 | 잡곡밥 | 잡곡밥 |
| 국/수프 | 미역국 | 된장국 | 순두부찌개 | 청국장 | 도토리묵국 |
| 메인   | 불고기 | 제육볶음 | 닭갈비 | 함박스테이크 | 오므라이스 |
| 사이드1| 김치 | 멸치볶음 | 샐러드 | 두부조림 | 계란말이 |
| 사이드2| 시금치나물 | 감자조림 | 오이무침 | 브로콜리 | 깻잎지 |
| 기타   |      |      |      |      |      |

- **기타** 행은 없어도 무방하며, 빈칸이 있을 수 있습니다.

---

## 사용법

1. **설치 및 실행**
   ```bash
   git clone <레포주소>
   cd <프로젝트폴더>
   python -m venv venv
   source venv/bin/activate  # 또는 venv\Scripts\activate
   pip install -r requirements.txt
   # .env 파일에 GOOGLE_API_KEY=your-api-key 추가
   streamlit run app.py
   ```

2. **주간 식단표 생성**
   - '주간 5일 식단표 생성' 버튼 클릭 → 식단표 생성 및 엑셀 다운로드

3. **메뉴판 분석**
   - 위 포맷의 엑셀 파일 업로드 → 영양 정보 분석 및 엑셀 다운로드

4. **메뉴 DB 관리**
   - 메뉴 추가/삭제/수정, 영양소/카테고리 표 기반 관리

5. **영양소 기준치 설정**
   - RDI 및 허용 오차 설정 가능

---

## 기술 스택
- Python, Streamlit, Pandas
- OpenAI GPT-4o-mini (메뉴 분류/영양 추정)
- SQLite (메뉴 DB)

---

## 주의사항
- 메뉴 이름은 DB에 등록된 이름과 정확히 일치해야 하며, 빈 셀은 자동으로 제외됩니다.
- 엑셀 업로드 시 '점심' 또는 '저녁' 시트, 행/열 구조만 맞추면 됩니다.
- 기타 메뉴는 없어도 무방하며, 빈칸이 있을 수 있습니다.

---

## 라이선스
MIT

---

## 문의
- 개발/기능 문의: [your-email@example.com]

## 🛠️ 기술 스택

- **Frontend**: Streamlit
- **Backend**: Python
- **Database**: SQLite
- **AI**: OpenAI GPT-4o-mini
- **Data Processing**: Pandas, Openpyxl

## 📦 설치 방법

1. 저장소 클론
```bash
git clone [repository-url]
cd Meal
```

2. 가상환경 생성 및 활성화
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. 필요한 패키지 설치
```bash
pip install -r requirements.txt
```

4. 환경 변수 설정
- `.env` 파일 생성
- Google API 키 설정:
```
GOOGLE_API_KEY=your-api-key
```

## 🚀 실행 방법

```bash
streamlit run app.py
```

## 📁 프로젝트 구조

```
/Meal
├── app.py              # 메인 애플리케이션
├── meal_ai.py          # AI 및 데이터베이스 처리
├── config.py           # 설정 관리
├── requirements.txt    # 패키지 목록
├── .env               # 환경 변수
└── meal.db            # SQLite 데이터베이스
```

## 💡 주요 기능 설명

### 메뉴 추가
- 텍스트 입력: 쉼표(,)로 구분하여 여러 메뉴 추가
- 엑셀 업로드: '메뉴' 열이 있는 엑셀 파일로 일괄 추가
- AI가 자동으로 메뉴 분류 및 영양소 분석

### 영양소 수정
- 표에서 직접 수정 가능
- 수정 후 자동 저장
- 메뉴명과 분류는 수정 불가

### 식단 계획
- AI가 영양소 균형을 고려하여 식단 생성
- 점심/저녁 메뉴 자동 구성
- 생성된 식단표 다운로드 가능

## 🔧 설정

### 영양소 기준치
- 칼로리: 2000 kcal
- 단백질: 60 g
- 지방: 65 g
- 탄수화물: 300 g
- 나트륨: 2000 mg

### 허용 오차
- 기본값: 10%

## 📝 주의사항

1. Google API 키가 필요합니다
2. 엑셀 파일 업로드 시 첫 번째 열은 반드시 '메뉴'여야 합니다
3. 메뉴명은 정확히 입력해야 합니다
4. 영양소 수정 시 음수는 입력할 수 없습니다

## 🔄 업데이트 내역

### v1.0.0
- 초기 버전 릴리즈
- 기본적인 메뉴 관리 및 식단 계획 기능 구현

## 📄 라이선스

MIT License

## 👥 기여자

- [Your Name]

## 📞 문의

문제가 발생하거나 개선사항이 있다면 이슈를 등록해주세요. 
